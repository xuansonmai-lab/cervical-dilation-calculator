<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predictive Tool for Prolonged First Stage of Labor</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"></script>
    <style>
        @import url('https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css');
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-shadow {
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .result-card {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white py-6">
        <div class="container mx-auto px-4">
            <h1 class="text-3xl font-bold text-center">C√¥ng C·ª• T√≠nh Th·ªùi Gian M·ªü C·ªï T·ª≠ Cung</h1>
            <p class="text-center mt-2 text-blue-100">D·ª±a tr√™n b√°ch ph√¢n v·ªã th·ª© 95 (95th percentile)</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <div class="grid lg:grid-cols-2 gap-8 max-w-6xl mx-auto">
            <!-- Input Panel -->
            <div class="bg-white rounded-xl p-6 card-shadow">
                <h2 class="text-xl font-semibold mb-6 text-gray-800 border-b pb-2">
                    üìã Clinical Information
                </h2>
                
                <div class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium mb-3 text-gray-700">
                            Current cervical dilation:
                        </label>
                        <select id="currentDilation" class="w-full p-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition">
                            <option value="3">3 cm</option>
                            <option value="4" selected>4 cm</option>
                            <option value="5">5 cm</option>
                            <option value="6">6 cm</option>
                            <option value="7">7 cm</option>
                            <option value="8">8 cm</option>
                            <option value="9">9 cm</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-3 text-gray-700">
                            Target cervical dilation:
                        </label>
                        <select id="targetDilation" class="w-full p-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition">
                            <option value="4">4 cm</option>
                            <option value="5" selected>5 cm</option>
                            <option value="6">6 cm</option>
                            <option value="7">7 cm</option>
                            <option value="8">8 cm</option>
                            <option value="9">9 cm</option>
                            <option value="10">10 cm</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-3 text-gray-700">
                            Parity:
                        </label>
                        <div class="space-y-3">
                            <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                <input type="radio" name="parity" value="multiparous" checked class="mr-3 text-blue-500">
                                <span class="font-medium">Multiparous</span>
                            </label>
                            <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                <input type="radio" name="parity" value="nulliparous" class="mr-3 text-blue-500">
                                <span class="font-medium">Nulliparous</span>
                            </label>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-3 text-gray-700">
                            Type of labor:
                        </label>
                        <div class="space-y-3">
                            <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                <input type="radio" name="laborType" value="spontaneous" checked class="mr-3 text-blue-500">
                                <span class="font-medium">Spontaneous labor</span>
                            </label>
                            <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                <input type="radio" name="laborType" value="induction" class="mr-3 text-blue-500">
                                <span class="font-medium">Induced labor</span>
                            </label>
                            <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                <input type="radio" name="laborType" value="augmentation" class="mr-3 text-blue-500">
                                <span class="font-medium">Labor augmentation</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Results Panel -->
            <div class="bg-white rounded-xl p-6 card-shadow">
                <h2 class="text-xl font-semibold mb-6 text-gray-800 border-b pb-2">
                    üìä Predicted time
                </h2>
                
                <div id="results" class="space-y-6">
                    <div class="result-card text-white p-6 rounded-xl text-center">
                        <p class="text-sm opacity-90 mb-2">95th percentile</p>
                        <p id="timeResult" class="text-3xl font-bold">2 hours 42 minutes</p>
                    </div>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600 mb-1">
                            <span class="font-medium">From</span> <span id="dilationRange">4 cm ‚Üí 5 cm</span>
                        </p>
                        <p class="text-sm text-gray-600">
                            <span class="font-medium">Summary of Clinical Information:</span> <span id="conditionText">Multiparous, Spontaneous labor</span>
                        </p>
                    </div>

                    <div class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-400">
                        <p class="text-xs text-yellow-800">
                            <strong>‚ö†Ô∏è Important note:</strong> This is the cervical dilation time at the 95th percentile, meaning individuals whose cervical dilation time exceeds this threshold fall into the slowest 5% who still have the potential for vaginal delivery. This number does not determine the diagnosis of arrest of labor but rather helps guide adjustments in management approach
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Formula Explanation -->
        <div class="mt-12 bg-white rounded-xl p-6 card-shadow max-w-4xl mx-auto">
            <h3 class="text-xl font-semibold mb-4 text-gray-800">
                üß™ Scientific rationale and evidence-based medical data
            </h3>
            <div class="text-sm text-gray-700 space-y-3">
                <div class="bg-blue-50 p-4 rounded-lg">
                    <p class="font-mono text-lg text-center text-blue-800">
                        <strong>[References - Uptodate 2025](https://www.uptodate.com/contents/labor-overview-of-normal-and-abnormal-progression)</strong>
                    </p>
                </div>
                <p><strong>Rationale</strong></p>
                <ul class="list-disc list-inside ml-4 space-y-2">
                    <li>Recently, the [World Health Organization (WHO)](https://obgyn.onlinelibrary.wiley.com/doi/10.1111/1471-0528.16694) released updated recommendations in 2018 regarding intrapartum care, introducing several significant changes. Notably, the definition of ‚Äúslow cervical dilation‚Äù is no longer fixed at a threshold such as 1 cm/hour. Instead, WHO advocates for using the 95th percentile time limits based on empirical data to assess cervical progression. Following this approach, I have reviewed and analyzed cervical dilation timelines according to key factors, including parity (nulliparous vs. multiparous), spontaneous labor, labor induction, and labor augmentation.</li>
                </ul>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; This tool was created by Dr. Mai Xuan Son. It has not been formally reviewed or validated by experts, so it should be used with caution and not cited as an authoritative source.</p>
        </div>
    </footer>

    <script>
        // D·ªØ li·ªáu t·ª´ b·∫£ng
        const dilationData = {
            '3-4': {
                'induction-multiparous': 10.2,
                'augmentation-multiparous': 7.5,
                'spontaneous-multiparous': 2.3,
                'induction-nulliparous': 8.1,
                'augmentation-nulliparous': 6.8,
                'spontaneous-nulliparous': 2.3
            },
            '4-5': {
                'induction-multiparous': 7.9,
                'augmentation-multiparous': 8.2,
                'spontaneous-multiparous': 1.9,
                'induction-nulliparous': 6.8,
                'augmentation-nulliparous': 7.6,
                'spontaneous-nulliparous': 2.7
            },
            '5-6': {
                'induction-multiparous': 4.2,
                'augmentation-multiparous': 6.0,
                'spontaneous-multiparous': 1.7,
                'induction-nulliparous': 4.3,
                'augmentation-nulliparous': 4.9,
                'spontaneous-nulliparous': 2.7
            },
            '6-7': {
                'induction-multiparous': 1.8,
                'augmentation-multiparous': 3.2,
                'spontaneous-multiparous': 1.6,
                'induction-nulliparous': 2.8,
                'augmentation-nulliparous': 3.9,
                'spontaneous-nulliparous': 2.1
            },
            '7-8': {
                'induction-multiparous': 1.0,
                'augmentation-multiparous': 1.7,
                'spontaneous-multiparous': 1.3,
                'induction-nulliparous': 1.5,
                'augmentation-nulliparous': 2.2,
                'spontaneous-nulliparous': 1.7
            },
            '8-9': {
                'induction-multiparous': 0.8,
                'augmentation-multiparous': 1.3,
                'spontaneous-multiparous': 1.0,
                'induction-nulliparous': 1.3,
                'augmentation-nulliparous': 2.0,
                'spontaneous-nulliparous': 1.3
            },
            '9-10': {
                'induction-multiparous': 0.8,
                'augmentation-multiparous': 1.3,
                'spontaneous-multiparous': 0.8,
                'induction-nulliparous': 1.9,
                'augmentation-nulliparous': 2.4,
                'spontaneous-nulliparous': 1.8
            }
        };

        function calculateTime() {
            const currentDilation = parseInt(document.getElementById('currentDilation').value);
            const targetDilation = parseInt(document.getElementById('targetDilation').value);
            const parity = document.querySelector('input[name="parity"]:checked').value;
            const laborType = document.querySelector('input[name="laborType"]:checked').value;

            if (currentDilation >= targetDilation) {
                document.getElementById('timeResult').textContent = 'L·ªói: ƒê·ªô m·ªü hi·ªán t·∫°i ph·∫£i nh·ªè h∆°n m·ª•c ti√™u';
                document.getElementById('timeResult').className = 'text-2xl font-bold text-red-500';
                return;
            }

            let totalTime = 0;
            const key = `${laborType}-${parity}`;
            
            for (let i = currentDilation; i < targetDilation; i++) {
                const rangeKey = `${i}-${i + 1}`;
                if (dilationData[rangeKey] && dilationData[rangeKey][key]) {
                    totalTime += dilationData[rangeKey][key];
                }
            }

            // Format time
            const hours = Math.floor(totalTime);
            const minutes = Math.round((totalTime - hours) * 60);
            const timeText = `${hours} hours ${minutes} minutes`;

            // Update display
            document.getElementById('timeResult').textContent = timeText;
            document.getElementById('timeResult').className = 'text-3xl font-bold';
            document.getElementById('dilationRange').textContent = `${currentDilation} cm ‚Üí ${targetDilation} cm`;
            
            // Update condition text
            const parityText = parity === 'multiparous' ? 'Multiparous' : 'con so';
            let laborText = '';
            switch(laborType) {
                case 'spontaneous': laborText = 'Spontaneous labor'; break;
                case 'induction': laborText = 'Induced labor'; break;
                case 'augmentation': laborText = 'Labor augmentation'; break;
            }
            document.getElementById('conditionText').textContent = `${parityText}, ${laborText}`;
        }

        // Auto-calculate on page load and input change
        document.addEventListener('DOMContentLoaded', calculateTime);
        document.getElementById('currentDilation').addEventListener('change', calculateTime);
        document.getElementById('targetDilation').addEventListener('change', calculateTime);
        document.querySelectorAll('input[name="parity"]').forEach(input => {
            input.addEventListener('change', calculateTime);
        });
        document.querySelectorAll('input[name="laborType"]').forEach(input => {
            input.addEventListener('change', calculateTime);
        });
    </script>
</body>
</html>
