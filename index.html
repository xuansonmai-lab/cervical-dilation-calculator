<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C√¥ng C·ª• T√≠nh Th·ªùi Gian M·ªü C·ªï T·ª≠ Cung</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"></script>
    <style>
        @import url('https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css');
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-shadow {
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .result-card {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Header -->
    <header class="gradient-bg text-white py-6">
        <div class="container mx-auto px-4">
            <h1 class="text-3xl font-bold text-center">C√¥ng C·ª• T√≠nh Th·ªùi Gian M·ªü C·ªï T·ª≠ Cung</h1>
            <p class="text-center mt-2 text-blue-100">D·ª±a tr√™n b√°ch ph√¢n v·ªã th·ª© 95 c·ªßa th·ªùi gian m·ªü CTC</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <div class="grid lg:grid-cols-2 gap-8 max-w-6xl mx-auto">
            <!-- Input Panel -->
            <div class="bg-white rounded-xl p-6 card-shadow">
                <h2 class="text-xl font-semibold mb-6 text-gray-800 border-b pb-2">
                    üìã Th√¥ng tin b·ªánh nh√¢n
                </h2>
                
                <div class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium mb-3 text-gray-700">
                            ƒê·ªô m·ªü c·ªï t·ª≠ cung hi·ªán t·∫°i:
                        </label>
                        <select id="currentDilation" class="w-full p-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition">
                            <option value="3">3 cm</option>
                            <option value="4" selected>4 cm</option>
                            <option value="5">5 cm</option>
                            <option value="6">6 cm</option>
                            <option value="7">7 cm</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-3 text-gray-700">
                            ƒê·ªô m·ªü c·ªï t·ª≠ cung m·ª•c ti√™u:
                        </label>
                        <select id="targetDilation" class="w-full p-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition">
                            <option value="4">4 cm</option>
                            <option value="5" selected>5 cm</option>
                            <option value="6">6 cm</option>
                            <option value="7">7 cm</option>
                            <option value="8">8 cm</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-3 text-gray-700">
                            Con so hay con r·∫°?:
                        </label>
                        <div class="space-y-3">
                            <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                <input type="radio" name="parity" value="multiparous" checked class="mr-3 text-blue-500">
                                <span class="font-medium">Con r·∫° (Multiparous)</span>
                            </label>
                            <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                <input type="radio" name="parity" value="nulliparous" class="mr-3 text-blue-500">
                                <span class="font-medium">Con so (Nulliparous)</span>
                            </label>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium mb-3 text-gray-700">
                            Lo·∫°i chuy·ªÉn d·∫°:
                        </label>
                        <div class="space-y-3">
                            <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                <input type="radio" name="laborType" value="spontaneous" checked class="mr-3 text-blue-500">
                                <span class="font-medium">Chuy·ªÉn d·∫° t·ª± nhi√™n</span>
                            </label>
                            <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                <input type="radio" name="laborType" value="induction" class="mr-3 text-blue-500">
                                <span class="font-medium">Kh·ªüi ph√°t chuy·ªÉn d·∫°</span>
                            </label>
                            <label class="flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition">
                                <input type="radio" name="laborType" value="augmentation" class="mr-3 text-blue-500">
                                <span class="font-medium">TƒÉng co t·ª≠ cung</span>
                            </label>
                        </div>
                    </div>

                    <button onclick="calculateTime()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300 transform hover:scale-105">
                        üßÆ T√≠nh to√°n th·ªùi gian
                    </button>
                </div>
            </div>

            <!-- Results Panel -->
            <div class="bg-white rounded-xl p-6 card-shadow">
                <h2 class="text-xl font-semibold mb-6 text-gray-800 border-b pb-2">
                    üìä K·∫øt qu·∫£ d·ª± ƒëo√°n
                </h2>
                
                <div id="results" class="space-y-6">
                    <div class="result-card text-white p-6 rounded-xl text-center">
                        <p class="text-sm opacity-90 mb-2">Th·ªùi gian d·ª± ki·∫øn (95th percentile):</p>
                        <p id="timeResult" class="text-3xl font-bold">2 gi·ªù 42 ph√∫t</p>
                    </div>
                    
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600 mb-1">
                            <span class="font-medium">T·ª´:</span> <span id="dilationRange">4 cm ‚Üí 5 cm</span>
                        </p>
                        <p class="text-sm text-gray-600">
                            <span class="font-medium">ƒêi·ªÅu ki·ªán:</span> <span id="conditionText">con r·∫°, chuy·ªÉn d·∫° t·ª± nhi√™n</span>
                        </p>
                    </div>

                    <div class="bg-yellow-50 p-4 rounded-lg border-l-4 border-yellow-400">
                        <p class="text-xs text-yellow-800">
                            <strong>‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng:</strong> ƒê√¢y l√† th·ªùi gian ·ªü b√°ch ph√¢n v·ªã th·ª© 95, c√≥ nghƒ©a l√† 95% c√°c tr∆∞·ªùng h·ª£p s·∫Ω m·ªü nhanh h∆°n th·ªùi gian n√†y. K·∫øt qu·∫£ ch·ªâ mang t√≠nh tham kh·∫£o v√† c√≥ th·ªÉ kh√°c bi·ªát t√πy theo t·ª´ng tr∆∞·ªùng h·ª£p c·ª• th·ªÉ.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Formula Explanation -->
        <div class="mt-12 bg-white rounded-xl p-6 card-shadow max-w-4xl mx-auto">
            <h3 class="text-xl font-semibold mb-4 text-gray-800">
                üß™ C√¥ng th·ª©c t√≠nh to√°n
            </h3>
            <div class="text-sm text-gray-700 space-y-3">
                <div class="bg-blue-50 p-4 rounded-lg">
                    <p class="font-mono text-lg text-center text-blue-800">
                        <strong>T·ªïng th·ªùi gian = Œ£ (Th·ªùi gian cho m·ªói giai ƒëo·∫°n m·ªü 1cm)</strong>
                    </p>
                </div>
                <p><strong>Trong ƒë√≥ th·ªùi gian ƒë∆∞·ª£c tra c·ª©u t·ª´ b·∫£ng d·ªØ li·ªáu d·ª±a tr√™n:</strong></p>
                <ul class="list-disc list-inside ml-4 space-y-2">
                    <li>Con so hay Con r·∫°)</li>
                    <li>V√†o chuy·ªÉn d·∫° t·ª± nhi√™n hay ƒë∆∞·ª£c kh·ªüi ph√°t chuy·ªÉn d·∫° hay ƒëang ƒë∆∞·ª£c tƒÉng co)</li>
                    <li>ƒê·ªô c·ªï t·ª≠ cung hi·ªán t·∫°i</li>
                </ul>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2025 C√¥ng C·ª• T√≠nh Th·ªùi Gian M·ªü C·ªï T·ª≠ Cung by Mai Xu√¢n S∆°n</p>
        </div>
    </footer>

    <script>
        // D·ªØ li·ªáu t·ª´ b·∫£ng
        const dilationData = {
            '3-4': {
                'induction-multiparous': 10.2,
                'augmentation-multiparous': 7.5,
                'spontaneous-multiparous': 2.3,
                'induction-nulliparous': 8.1,
                'augmentation-nulliparous': 6.8,
                'spontaneous-nulliparous': 2.3
            },
            '4-5': {
                'induction-multiparous': 7.9,
                'augmentation-multiparous': 8.2,
                'spontaneous-multiparous': 1.9,
                'induction-nulliparous': 6.8,
                'augmentation-nulliparous': 7.6,
                'spontaneous-nulliparous': 2.7
            },
            '5-6': {
                'induction-multiparous': 4.2,
                'augmentation-multiparous': 6.0,
                'spontaneous-multiparous': 1.7,
                'induction-nulliparous': 4.3,
                'augmentation-nulliparous': 4.9,
                'spontaneous-nulliparous': 2.7
            },
            '6-7': {
                'induction-multiparous': 1.8,
                'augmentation-multiparous': 3.2,
                'spontaneous-multiparous': 1.6,
                'induction-nulliparous': 2.8,
                'augmentation-nulliparous': 3.9,
                'spontaneous-nulliparous': 2.1
            },
            '7-8': {
                'induction-multiparous': 1.0,
                'augmentation-multiparous': 1.7,
                'spontaneous-multiparous': 1.3,
                'induction-nulliparous': 1.5,
                'augmentation-nulliparous': 2.2,
                'spontaneous-nulliparous': 1.7
            }
        };

        function calculateTime() {
            const currentDilation = parseInt(document.getElementById('currentDilation').value);
            const targetDilation = parseInt(document.getElementById('targetDilation').value);
            const parity = document.querySelector('input[name="parity"]:checked').value;
            const laborType = document.querySelector('input[name="laborType"]:checked').value;

            if (currentDilation >= targetDilation) {
                document.getElementById('timeResult').textContent = 'L·ªói: ƒê·ªô m·ªü hi·ªán t·∫°i ph·∫£i nh·ªè h∆°n m·ª•c ti√™u';
                document.getElementById('timeResult').className = 'text-2xl font-bold text-red-500';
                return;
            }

            let totalTime = 0;
            const key = `${laborType}-${parity}`;
            
            for (let i = currentDilation; i < targetDilation; i++) {
                const rangeKey = `${i}-${i + 1}`;
                if (dilationData[rangeKey] && dilationData[rangeKey][key]) {
                    totalTime += dilationData[rangeKey][key];
                }
            }

            // Format time
            const hours = Math.floor(totalTime);
            const minutes = Math.round((totalTime - hours) * 60);
            const timeText = `${hours} gi·ªù ${minutes} ph√∫t`;

            // Update display
            document.getElementById('timeResult').textContent = timeText;
            document.getElementById('timeResult').className = 'text-3xl font-bold';
            document.getElementById('dilationRange').textContent = `${currentDilation} cm ‚Üí ${targetDilation} cm`;
            
            // Update condition text
            const parityText = parity === 'multiparous' ? 'con r·∫°' : 'con so';
            let laborText = '';
            switch(laborType) {
                case 'spontaneous': laborText = 'chuy·ªÉn d·∫° t·ª± nhi√™n'; break;
                case 'induction': laborText = 'kh·ªüi ph√°t chuy·ªÉn d·∫°'; break;
                case 'augmentation': laborText = 'tƒÉng co t·ª≠ cung'; break;
            }
            document.getElementById('conditionText').textContent = `${parityText}, ${laborText}`;
        }

        // Auto-calculate on page load and input change
        document.addEventListener('DOMContentLoaded', calculateTime);
        document.getElementById('currentDilation').addEventListener('change', calculateTime);
        document.getElementById('targetDilation').addEventListener('change', calculateTime);
        document.querySelectorAll('input[name="parity"]').forEach(input => {
            input.addEventListener('change', calculateTime);
        });
        document.querySelectorAll('input[name="laborType"]').forEach(input => {
            input.addEventListener('change', calculateTime);
        });
    </script>
</body>
</html>
